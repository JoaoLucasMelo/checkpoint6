import{b as s,l as i,a,e as c}from"./index.adf06207.js";class g{async getActiveAttendees(t){const e=await s.get("api/events/"+t+"/attendees");i.log("ATTENDING TO THIS EVENT",e.data);let n=a.activeAttending;n=e.data,a.activeAttending=n,await this.getMyAttending(),await this.findActiveAttending(t)}async getMyAttending(){const t=await s.get("account/attendees");i.log("ATTENDING",t.data);let e=a.attending;e=t.data,a.attending=e}async attend(t){const e=await s.post("api/attendees",{eventId:t});i.log("ATTENDING",e.data);let n=e.data;a.activeAttending=n,a.activeEvent=n.event,c.getActive(t),this.getActiveAttendees(t)}async notattend(t,e){const n=await s.delete("api/attendees/"+e);i.log("NOT ATTENDING",n.data),a.attending=a.attending.filter(d=>d.id!==e),a.activeAttending=a.activeAttending.filter(d=>d.id!==e),a.activeEvent=t,c.getActive(t),await this.getActiveAttendees(t),await this.findActiveAttending(t)}async notattendaccount(t,e){const n=await s.delete("api/attendees/"+e);i.log("NOT ATTENDING",n.data),a.attending=a.attending.filter(d=>d.id!==e),a.activeEvent=t,await this.getActiveAttendees(t),await this.findActiveAttending(t)}async findActiveAttending(t){let e=a.attending.find(n=>n.eventId===t);a.myActiveAttend=e,i.log("MY ATTENDING THIS EVENT",e)}}const o=new g;export{o as a};
