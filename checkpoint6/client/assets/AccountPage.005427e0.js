import{_ as k,P as v,e as f,A as l,l as A,a as r}from"./index.f28b03cc.js";import{a as p}from"./AttendeesService.cc6436d0.js";import{_ as C}from"./Logo.23fb323d.js";import{C as b,c as _,a as y,o as n,b as c,d as t,e as i,n as h,g as w,F as x,D as E,p as j,l as I,A as S}from"./vendor.43274653.js";const N={props:{account:{type:Object,required:!0}},name:"Account",setup(){return b(async()=>{try{await p.getMyAttending()}catch(a){v.toast(a.message,"error")}}),b(async()=>{try{await f.getCreatedEvents(l.userInfo.id)}catch(a){v.toast(a.message,"error")}}),{account:_(()=>r.account),attending:_(()=>r.attending),towerEvents:_(()=>r.towerEvents),user:_(()=>r.user),async login(){l.loginWithPopup()},async logout(){l.logout({returnTo:window.location.origin})},async notattend(a,d){try{await p.notattendaccount(a,d),await f.getCreatedEvents(l.userInfo.id)}catch(u){A.error(u),v.toast(u.message,"error")}}}}},o=a=>(j("data-v-2d594d0c"),a=a(),I(),a),P={class:"account container-fluid scrollbar"},H={class:"row"},L={class:"col-12 mt-2"},V=o(()=>t("img",{src:C,width:"250",class:"m-3",alt:""},null,-1)),B={class:"row mediaonly"},M={key:0,class:"col-12 d-flex navheight flex-column align-items-center"},F={class:"d-flex justify-content-between"},T={"data-bs-toggle":"offcanvas",href:"#offcanvasExample",role:"button",class:"mt-4"},q=["src"],D=o(()=>t("div",{class:"me-5"},null,-1)),O=o(()=>t("button",{class:"btn buttonanim mt-3"},[t("span",null,"Home")],-1)),W=o(()=>t("button",{class:"btn buttonanim"},[t("span",null,"Account")],-1)),z={class:"d-flex mb-4"},G=o(()=>t("div",{class:"me-5"},[t("button",{"data-bs-toggle":"modal","data-bs-target":"#modalcreateedit",class:"mt-2 btn bggreen py-2 postbtn elevation-3"}," New Event ")],-1)),J={class:""},K={key:0,class:"col-12 d-flex flex-row justify-content-center align-content-center mb-4 mt-2"},Q={class:"me-3"},R=o(()=>t("div",null,[t("button",{class:"btn buttonanim"},[t("span",null,"Home")])],-1)),U=o(()=>t("div",null,null,-1)),X={class:"row justify-content-center"},Y={class:"col-md-11"},Z=o(()=>t("div",null,[t("p",{class:"green f-16 m-0"},"My Created Events")],-1)),$={key:0,class:"d-flex flex-wrap mobilecenter"},tt={key:1},et=o(()=>t("p",{class:"fst-italic my-5 fontcolor"},'"No events created"',-1)),ot=[et],st={class:"row justify-content-center"},nt={class:"col-md-11"},ct=o(()=>t("div",null,[t("p",{class:"green f-16 mt-3 m-0"},"Events I am Attending")],-1)),at={class:"d-flex flex-wrap mobilecenter"},dt={key:0,class:"col-md-12"},it={class:"col-12 col-md-11"},lt={class:"col-12 col-md-1 d-md-flex justify-self-center"},rt={class:""},_t=["onClick"],ut=S(" Not Attend "),mt=o(()=>t("i",{class:"ms-2 mdi mdi-18px mdi-human pe-1"},null,-1)),vt=[ut,mt],ht={key:1},gt=o(()=>t("p",{class:"fst-italic my-5 fontcolor"},' "Currently not attending to any events" ',-1)),ft=[gt];function pt(a,d,u,e,bt,yt){const m=y("router-link"),g=y("Event");return n(),c("div",P,[t("div",H,[t("div",L,[i(m,{to:{name:"Home"}},{default:h(()=>[V]),_:1})])]),t("div",B,[e.user.isAuthenticated?(n(),c("div",M,[t("div",F,[t("div",T,[t("img",{class:"rounded picuser elevation-3",width:"60",height:"60",src:e.account.picture,alt:""},null,8,q)]),D,t("div",null,[t("div",null,[i(m,{to:{name:"Home"}},{default:h(()=>[O]),_:1})]),t("div",null,[i(m,{to:{name:"Account"}},{default:h(()=>[W]),_:1})])])]),t("div",z,[G,t("div",null,[t("button",{onClick:d[0]||(d[0]=(...s)=>e.logout&&e.logout(...s)),class:"mt-2 btn bgtransparent py-2 postbtn border elevation-3"}," Logout ")])])])):w("",!0),t("div",J,[e.user.isAuthenticated?w("",!0):(n(),c("div",K,[t("div",Q,[t("button",{onClick:d[1]||(d[1]=(...s)=>e.login&&e.login(...s)),class:"btn bggreen postbtn elevation-3"}," Login ")]),R]))]),U]),t("div",X,[t("div",Y,[Z,e.towerEvents.length>0?(n(),c("div",$,[(n(!0),c(x,null,E(e.towerEvents,s=>(n(),c("div",{class:"col-md-3",key:s.id},[i(g,{towerEvents:s},null,8,["towerEvents"])]))),128))])):(n(),c("div",tt,ot))])]),t("div",st,[t("div",nt,[ct,t("div",at,[e.attending.length>0?(n(),c("div",dt,[(n(!0),c(x,null,E(e.attending,s=>(n(),c("div",{class:"d-md-flex",key:s.id},[t("div",it,[i(g,{towerEvents:s.event},null,8,["towerEvents"])]),t("div",lt,[t("div",rt,[t("button",{onClick:wt=>e.notattend(s.eventId,s.id),class:"ms-md-2 w-100 btn btnattending ps-2 mt-2 elevation-3 border-0 mb-3"},vt,8,_t)])])]))),128))])):(n(),c("div",ht,ft))])])])])}var Ct=k(N,[["render",pt],["__scopeId","data-v-2d594d0c"]]);export{Ct as default};
